Эта статья о **Firefox for Android,** есть и **другие** редакции Firefox для Android и других мобильный операционных систем, с другими названиями и функциями, как правило они на других движка и с урезанными возможностями.

1. [Установка](#Установка)
2. [Расширения](#Расширения)
3. [Настройки](#Настройки)
   1. [Настройка прокси](#Настройка-прокси)
   2. [Увеличиваем максимальное число в списке недавно закрытых вкладок](#Увеличиваем-максимальное-число-в-списке-недавно-закрытых-вкладок)
   3. [Отключение авто остановки видео при переключении на другое приложение](#Отключение-авто-остановки-видео-при-переключении-на-другое-приложение)
   4. [Перенос длиных строк при просмотре текстовых файлов](#Перенос-длиных-строк-при-просмотре-текстовых-файлов)

# Установка

Список **расширений** для **Firefox for Android** можно найти [тут](https://addons.mozilla.org/android/). Они могут отличаться от расширений для обычного Firefox. И они имеют больше ограничений функционала, не все обычные расширения можно установить в **Firefox for Android**.

Прямую ссылку на **.apk** файл Firefox for Android можно найти [тут](https://www.mozilla.org/en-US/firefox/android/all/)

Старую версию этой статьи для Firefox for Android со старой системой расширений можно найти [тут](https://github.com/myBestSoftAndPref/soft/blob/21209621e5c29dda711aafe371932419101cb44b/src/firefox/android.md)

# Расширения
* [uBlock Origin](https://addons.mozilla.org/android/addon/ublock-origin) - блокировка рекламы и сбора статистики.
* [SingleFile | Save a page as a single HTML file](https://addons.mozilla.org/android/addon/single-file/) - сохраняет страницу одним файлом (изображения, скрипты etc).
* [WebScrapBook](https://addons.mozilla.org/android/addon/webscrapbook/) - сохраняет страницу одним файлом (изображения, скрипты etc). Для того чтобы это дополнение сохраняло и скрипты JavaScript внутри страниц нужно включить сохранение скриптов в настройках <sub>Скрипты на некоторых сайтах сохраняются не правильно</sub>. Поддерживает формат ```.maff```<sub>С некоторыми ограничениями</sub>. Может сохранять файл с ресурсами как ```.html``` и его можно открыть в других браузерах. Не поддерживает ```.mht``` <sub>в планах разработчика дополнения есть поддержка чтения ```.mht``` файлов. Чтобы открыть `maff` или `htz` файл в браузере одним кликом смотрите [эту](https://github.com/danny0838/webscrapbook/wiki/View) инструкцию. Чтобы сконвертировать большое количество `mht` файлов в `maff` используйте [это](http://maf.mozdev.org/installation.html) дополнение и [Firefox 52 ESR](https://ftp.mozilla.org/pub/firefox/releases/52.9.0esr/) для его работы</sub>
* [User Agent Switcher](https://addons.mozilla.org/android/addon/uaswitcher/) - подменяет user agent браузера (версию браузера которую видит сайт). Даже в наши дни есть сайты, которые блокируют контент для некоторых версий браузера, с этим расширением можно обойти такую блокировку на части таких сайтов. Потому что через JavaScript уловки определить настоящую версию браузера можно всегда и если создатели сайтов захотят, то версию браузера они узнают. **Пример** сайтов для которых можно использовать это расширение [веб версия скайпа](https://web.skype.com) (при этом функция скачивания файлов с веб версии скайпа сломана).
* [Decentraleyes](https://addons.mozilla.org/android/addon/decentraleyes/) - встраивает набор некоторых популярных javascript библиотек в Firefox, так что при открытии страниц библиотеки не загружаются снова из интернета и не происходит проверки на их актуальность (нету лишних запросов в интернет). Экономит трафик, защищает от отслеживания, ускоряет загрузку страниц.
* [Toggle Animated Gif](https://addons.mozilla.org/android/addon/toggleanigif/) - включаем или выключает анимацию gif изображений.
* [Video Background Play Fix](https://addons.mozilla.org/firefox/addon/video-background-play-fix/) - блокирует функции через который сайт может определить перешел пользователь на другую вкладку, минимизировал окна, включил полноэкранный режим и прочее, так например youtube не сможет определить это и не будет останавливать видео
* [Dark Background and Light Text](https://addons.mozilla.org/android/addon/dark-background-light-text/) или [Dark Reader](https://addons.mozilla.org/en-US/firefox/addon/darkreader/) - темные темы офрмления (темный фон, светлый текст). Помогает экономить энергию на OLED и AMOLED дисплеях

# Настройки
## Настройка прокси
Открыть страницу **about:config** в браузере.

**Начальные:**  
* ```network.proxy.type > 1``` - указывает использовать адреса на прокси из настроек Firefox
* ```network.proxy.socks_remote_dns > true``` - использовать проброс DNS через прокси, рекомендую включить
```network.proxy.no_proxies_on > "localhost, 127.0.0.1"``` - список адресов для которых прокси не используется <sub>(по умолчанию "localhost, 127.0.0.1", кавычки не нужны, это тип "строка")</sub>

Для **SOCKS** прокси можно устновить только две настройки ниже:  
* ```network.proxy.socks > 127.0.0.1```  
* ```network.proxy.socks_port > 9050```

Для **http:**  
* ```network.proxy.http > 127.0.0.1```  
* ```network.proxy.http_port > 9050```

Для ssl **(https):**  
* ```network.proxy.ssl > 127.0.0.1```  
* ```network.proxy.ssl_port > 9050```

Для **ftp:**  
* ```network.proxy.ftp > 127.0.0.1```  
* ```network.proxy.ftp_port > 9050```

**Использование файла авто конфигурации прокси:** (сам файл авто конфигурации может включать прокси для некоторых адресов и отключать для других)
<br>
1. ```network.proxy.type > 2``` указывает что вместо адресов на прокси нужно использовать адрес на файл авто конфигурации прокси
2. `network.proxy.autoconfig_url` > `путь_к_файлу`, где `путь_к_файлу` это строка указывающая на путь к файлу авто конфигурации на компьютере или в интернете. Он может иметь вид `https://example.com/proxy.pac`

**Дополнительно:**
<br>
* ```signon.autologin.proxy > true``` - если пароль для входа через прокси сохранен, то повторного запроса на ввод пароля не будет  
* ```network.proxy.share_proxy_settings > true``` - использовать настройки из ```network.proxy.http``` и ```network.proxy.http_port``` для и для **всех** протоколов.
* ```network.proxy.type > 0``` - для быстрого отключения прокси. Затем можно его включить поставив вместо 0 значение 1. Можно поставить значение 5 (по умолчанию) чтобы настройки прокси в Firefox зависели от настроек системы, и некоторые программы могли перенаправлять прокси Firefox.

### Настройка Firefox для работы через Tor
Настройки аналогично настройкам **адреса прокси,** но для **запущенного** Tor адрес вводить **только** в поле SOCKS ```127.0.0.1```, порт ```9050```. Для некоторых версий Tor нужно ввести http порт 8118.

## Как смотреть веб версию Skype
Использовать расширение [User Agent Switcher](https://addons.mozilla.org/android/addon/uaswitcher/) и подменить **user agent** на настольную (desktop) версию **Google Chrome** 

## Отключение наглого сбора статистики
Открыть страницу **about:config** в браузере. И поменять описанные ниже настройки.

**По пунктам:**
1. **browser.safebrowsing.enabled** > **false**
2. **browser.safebrowsing.malware.enabled** > **false**
3. **browser.safebrowsing.downloads.enabled** > **false**

## Просмотр файлов в файловой системе через Firefox (в том числе архивов .zip и .jar)
Чтобы увидеть всю файловую систему наберите в адресной строке
```
file:///
```

## Как открыть архив .zip или .jar в Firefox
Для того, чтобы открыть архив .zip или .jar в Firefox можно набрать в строке адреса, где **sdcard** это путь к вашей карте и он отличается в разных версиях Android:
```
jar:file:///mnt/sdcard/blabla.zip!/
```

## Отключения авто обновления расширений и поисковых систем
Статьи пока нет

## Как изменить каталог сохранения по умолчанию на мобильном (чтобы файлы загружались например на sd карту)
На странице **about:config**

1. Установить в **browser.download.folderList** значение **2** <br>
2. Установить в **browser.download.dir** (создать, тип - строка) путь для сохранения (например `/sdcard/my`). Чтобы подействовала нужно перезапустить Firefox из меню - выйти-зайти (пункт "Выход", а затем включить). <br>
Если играть методом тыка с настройками, то Firefox может сохранять файлы в разные места. Например, у меня при экспериментах во внутренней памяти телефона создался каталог Pages куда сохранялись страницы. Для Android это важно, так как размер внутренней памяти телефона обычно мал, после экспериментов нужно проверять наличие такого мусора.

**Note.** Некоторые версии Android путь к sd карте **может** иметь не такой вид как в файловом менеджере. Для него на таких устройствах есть другие названия, например **sdcard** или полный путь вида `/storage/<тут_разные_буквы_и_цифры>/`, как указано в примере выше вместо `/storage/emulated/0/` или чего-то подобного.

## Простой способ обхода блокировки сайтов в России и Украине через сервис Антизапрет
В поиске Google введите слово **Антизапрет**, потому что ссылка на сайт может поменяться в случае блокировки. Скопируйте ссылку на **.pac** файл и вставьте ее в опцию `network.proxy.autoconfig_url` из инструкции ниже.

На странице **about:config** поменять опции:
1. `network.proxy.type > 2` указывает что вместо адресов на прокси нужно использовать адрес на файл авто конфигурации прокси
2. `network.proxy.socks_remote_dns > true` - использовать проброс DNS через прокси, рекомендую включить
3. `network.proxy.autoconfig_url` > `путь_к_файлу`, где `путь_к_файлу` это строка указывающая на путь к файлу авто конфигурации на компьютере или в интернете. Он может иметь вид `https://example.com/proxy.pac`

## Отключение авто выгрузки вкладок при нехватке памяти
Это критично для Android устройств, если нужно чтобы вкладка оставалась открытой.
<br>
Установить `browser.tabs.unloadOnLowMemory` в `false`

## Оставлять вкладки всегда открытыми и невыгруженными при переключении между программами или вкладками (настройка кэша)
**Note.** Добиться полного кэширования не удалось, нужно искать другие настройки.

Создать `browser.cache.disk.parent_directory` (тип: строка), установить в значение путь к каталогу в котором будем хранить кэш, например `/sdcard/myFirefoxCache`. Если сразу не заработало, то перезапустить Firefox.

**Note.** Путь к каталогу можно скопировать например из файлового менеджера **Ghost Commander** для Android.
<br>
**Note.** Лучше помещать кэш на sd карте, а не во внутренней памяти телефона, потому что частые операции записи могут вызвать быстрейший износ диска, а sd карту можно заменить.
<br>
Если размера кэша недостаточно можно увеличить его в параметре `browser.cache.disk.capacity`, число это размер в килобайтах. Значение можно установить из расчета того, что одна вкладка браузера занимает примерно 200 Кб. 
<br>
Чтобы запись в кэш делалась реже можно изменить параметр **browser.sessionstore.interval**
```
15000 => as often as every 15 seconds (default)
30000 => as often as every 30 seconds
60000 => as often as every 60 seconds
90000 => as often as every 90 seconds 
```

## Увеличиваем максимальное число в списке недавно закрытых вкладок
Установить `browser.sessionstore.max_tabs_undo` в 25

## Отключение авто остановки видео при переключении на другое приложение
Поставить `media.suspend-bkgnd-video.enabled` в `false`
<br>
**Note.** Может не сработать из-за выгрузки страниц из памяти или из-за настроек системы, которая будет самовольно приостанавливать видео.

## Перенос длиных строк при просмотре текстовых файлов
При просмотре текстовых файлов в Firefox на Android с маленьким дисплеем может быть удобно / неудобно смотреть на длиные строки. Можно включить или отключить перенос длиных строк на странице `about:config` поставив параметр `plain_text.wrap_long_lines` в `true` / `false`